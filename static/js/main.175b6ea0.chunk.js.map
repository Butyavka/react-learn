{"version":3,"sources":["components/Navigation.js","images/gerald.jpg","utils/addDefaultSrc.js","components/Movie.js","api/getMovies.js","components/Pagination.js","utils/pages.js","containers/Home.js","components/About.js","components/Detail.js","images/404.png","components/Error404.js","components/AppRouter.js","App.js","index.js"],"names":["Navigation","className","to","addDefaultSrc","e","target","src","img","Movie","id","year","title","summary","poster","genres","pathname","state","onError","alt","map","genre","index","slice","getMovies","a","limit","page","axios","get","params","Pagination","totalPages","setPage","pagesArray","result","i","push","getPagesArray","p","onClick","Home","useState","isLoading","setIsLoading","movies","setMovies","setTotalPages","useEffect","then","res","response","data","totalCount","movie_count","Math","ceil","getPageCount","movie","medium_cover_image","About","props","Detail","nowState","location","undefined","history","Error404","img404","AppRouter","path","exact","component","App","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.175b6ea0.chunk.js","sourcesContent":["import React from \"react\";\r\nimport {Link} from 'react-router-dom'\r\nimport '../styles/navigation.css'\r\nconst Navigation = () => {\r\n    return (\r\n        <section className=\"navigation\">\r\n            <div className=\"container\">\r\n                <nav className=\"navigation__list\">\r\n                    <Link to=\"/\" className=\"navigation__link\">Главная</Link>\r\n                    <Link to=\"/about\" className=\"navigation__link\">О проекте</Link>\r\n                </nav>\r\n            </div>\r\n        </section>\r\n    )\r\n}\r\n\r\nexport default Navigation","export default __webpack_public_path__ + \"static/media/gerald.9a634618.jpg\";","import img from \"../images/gerald.jpg\"\r\n\r\nexport function addDefaultSrc(e) {\r\n    e.target.src = img\r\n}","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport {Link} from 'react-router-dom';\r\nimport \"../styles/movie.css\"\r\nimport {addDefaultSrc} from \"../utils/addDefaultSrc\";\r\n\r\nconst Movie = ({id, year, title, summary, poster, genres}) => {\r\n\r\n    return (\r\n        <Link to={{\r\n            pathname: `/movie/${id}`,\r\n            state: {\r\n                id,\r\n                year,\r\n                title,\r\n                summary,\r\n                poster,\r\n                genres\r\n            }\r\n        }} key={id} className=\"movie\">\r\n            <img onError={e => addDefaultSrc(e)} src={poster} alt={title} title={title} className=\"movie__img\"/>\r\n            <div className=\"movie__column\">\r\n                <h3 className=\"movie__title\">{title}</h3>\r\n                <h5 className=\"movie__year\">{year}</h5>\r\n                <ul className=\"movie__genres\">\r\n                    {genres.map((genre, index) => {\r\n                        return <li className=\"movie__genre\" key={index}>{genre}</li>\r\n                    })}\r\n                </ul>\r\n                <p className=\"movie__summary\">{summary.slice(0, 140)}...</p>\r\n            </div>\r\n        </Link>\r\n    )\r\n}\r\n\r\nMovie.propTypes = {\r\n    id: PropTypes.number.isRequired,\r\n    year: PropTypes.number.isRequired,\r\n    title: PropTypes.string.isRequired,\r\n    summary: PropTypes.string.isRequired,\r\n    poster: PropTypes.string.isRequired,\r\n    genres: PropTypes.arrayOf(PropTypes.string).isRequired\r\n};\r\n\r\nexport default Movie;","import axios from \"axios\";\r\n\r\nexport const getMovies = async (limit = 10, page = 1) => {\r\n    return await axios.get('https://yts.mx/api/v2/list_movies.json?sort__by=rating', {\r\n        params: {\r\n            limit,\r\n            page\r\n        }\r\n    })\r\n}","import React from \"react\";\r\nimport {getPagesArray} from \"../utils/pages\";\r\nimport \"../styles/pagination.css\"\r\n\r\nconst Pagination = ({totalPages, page, setPage}) => {\r\n    let pagesArray = getPagesArray(totalPages)\r\n    return (\r\n        <div className=\"pagination\">\r\n            {pagesArray.map(p => {\r\n                return(<button onClick={() => setPage(p)} key={p} className={page === p ? 'pagination__button pagination__button--current' :\r\n                                                                                          'pagination__button'}>{p}</button>)\r\n            })}\r\n        </div>\r\n    )\r\n}\r\nexport default  Pagination","export const getPageCount = (totalCount, limit) => {\r\n    return Math.ceil(totalCount / limit)\r\n}\r\n\r\nexport const getPagesArray = (totalPages) => {\r\n    let result = []\r\n    for (let i = 0; i < totalPages; i++) {\r\n        if (i > 9) {\r\n            break\r\n        }\r\n        result.push(i + 1)\r\n    }\r\n    return result\r\n}","import React, {useEffect, useState} from \"react\";\r\nimport axios from 'axios';\r\nimport Movie from \"../components/Movie\";\r\nimport {getMovies} from \"../api/getMovies\";\r\nimport {getPageCount, getPagesArray} from \"../utils/pages\"\r\nimport Pagination from \"../components/Pagination\";\r\n\r\nconst Home = () => {\r\n    const [isLoading, setIsLoading] = useState(true);\r\n    const [movies, setMovies] = useState([]);\r\n    const [totalPages, setTotalPages] = useState(0);\r\n    const [limit, setLimit] = useState(10);\r\n    const [page, setPage] = useState(1);\r\n\r\n    useEffect(() => {\r\n        getMovies(limit, page).then(res => {\r\n            let response = res.data.data;\r\n\r\n            setMovies(response.movies);\r\n            const totalCount = response.movie_count\r\n            setTotalPages(getPageCount(totalCount, limit))\r\n            setIsLoading(false)\r\n        });\r\n    }, [page])\r\n    return (\r\n        <>\r\n            <section className='container'>\r\n                {isLoading ?\r\n                    <div className='loader'>\r\n          <span className='loader__text'>\r\n            Загрузка...\r\n          </span>\r\n                    </div>\r\n                    : <div className=\"movies\">\r\n                        {movies.map(movie => {\r\n                            return (\r\n                                <Movie key={movie.id}\r\n                                       id={movie.id}\r\n                                       year={movie.year}\r\n                                       title={movie.title}\r\n                                       summary={movie.summary}\r\n                                       poster={movie.medium_cover_image}\r\n                                       genres={movie.genres}\r\n                                />\r\n                            )\r\n                        })}\r\n                    </div>\r\n                }\r\n                <Pagination totalPages={totalPages} page={page} setPage={setPage}/>\r\n            </section>\r\n        </>\r\n    );\r\n}\r\n\r\nexport default Home;\r\n","import React from 'react'\r\n\r\nconst About = (props) => {\r\n    return (\r\n        <div className=\"container\">\r\n            <span className=\"about__text\">Я сделала это приложение потому что я молодечик :3</span>\r\n        </div>\r\n    )\r\n}\r\nexport default About ","import React, {useEffect} from \"react\";\r\nimport '../styles/detail.css'\r\nimport {addDefaultSrc} from \"../utils/addDefaultSrc\";\r\n\r\nconst Detail = (props) => {\r\n    let nowState = props.location.state\r\n\r\n    useEffect(() => {\r\n        if (nowState === undefined) {\r\n            props.history.push('/');\r\n        }\r\n    })\r\n\r\n   \r\n    if (nowState === undefined) {\r\n        return null\r\n    } else {\r\n        return ( \r\n        <div className=\"container\">\r\n            <div className=\"detail-page\">\r\n                <div className=\"detail-page__img-box\">\r\n                    <img onError={e => addDefaultSrc(e)} src={nowState.poster} alt={nowState.title} title={nowState.title} className=\"detail-page__img\"/>\r\n                </div>\r\n                <div className=\"detail-page__info\">\r\n                    <h3 className=\"detail-page__title\">{nowState.title}</h3>\r\n                    <h5 className=\"detail-page__year\">{nowState.year}</h5>\r\n                    <ul className=\"detail-page__genres\">\r\n                        {nowState.genres.map( (genre, index) => {\r\n                            return <li className=\"detail-page__genre\" key={index}>{genre}</li>\r\n                        })}\r\n                    </ul>\r\n                    <p className=\"detail-page__summary\">{nowState.summary}</p>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n    }\r\n}\r\n\r\nexport default Detail","export default __webpack_public_path__ + \"static/media/404.ecc6f277.png\";","import React from \"react\";\r\nimport \"../styles/error404.css\"\r\nimport img404 from \"../images/404.png\"\r\n\r\nconst Error404 = () => {\r\n    return <div className='container'>\r\n        <span className=\"error\">Страница не найдена</span>\r\n        <img src={img404} alt=\"404\"/>\r\n    </div>\r\n}\r\n\r\nexport default Error404","import React from \"react\";\r\nimport {Redirect, Route, Switch} from \"react-router-dom\";\r\nimport Home from \"../containers/Home\";\r\nimport About from \"./About\";\r\nimport Detail from \"./Detail\";\r\nimport Error404 from \"./Error404\";\r\n\r\nconst AppRouter = () => {\r\n    return (\r\n        <Switch>\r\n            <Route path='/' exact={true} component={Home}/>\r\n            <Route path='/about' component={About}/>\r\n            <Route path='/movie/:id' component={Detail}/>\r\n            <Route path='/error404' component={Error404}/>\r\n            <Redirect to='/error404'/>\r\n        </Switch>\r\n    )\r\n}\r\n\r\nexport default AppRouter","import React from 'react'\r\nimport {BrowserRouter} from 'react-router-dom'\r\nimport Navigation from './components/Navigation'\r\nimport \"./styles/main.css\"\r\nimport AppRouter from \"./components/AppRouter\";\r\n\r\nconst App = () => {\r\n    return <BrowserRouter>\r\n        <Navigation/>\r\n        <AppRouter/>\r\n    </BrowserRouter>\r\n}\r\n\r\nexport default App","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './App';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n"],"sourceRoot":""}