{"version":3,"sources":["components/Navigation.js","components/UI/button/Button.js","context/index.js","components/Header.js","assets/images/gerald.jpg","utils/addDefaultSrc.js","components/Detail.js","components/About.js","assets/images/404.png","components/Error404.js","components/Movie.js","api/getMovies.js","components/Pagination.js","utils/pages.js","components/Loading.js","components/UI/select/Select.js","components/UI/input/Input.js","assets/images/panda.jpg","containers/Home.js","router/routes.js","components/Login.js","components/AppRouter.js","App.js","index.js"],"names":["Navigation","className","to","Button","buttonClass","text","onClick","AuthContext","createContext","Header","useContext","setIsAuth","isAuth","localStorage","removeItem","addDefaultSrc","e","target","src","img","Detail","props","nowState","location","state","useEffect","undefined","history","push","onError","poster","alt","title","year","genres","map","genre","index","summary","About","Error404","img404","Movie","id","pathname","slice","getMovies","a","limit","page","axios","get","params","Pagination","totalPages","setPage","pagesArray","result","i","getPagesArray","p","Loading","Select","options","defaultValue","value","onChange","event","disabled","option","name","Input","inputClass","inputPlaceholder","type","placeholder","Home","useState","isLoading","setIsLoading","movies","setMovies","selectedSort","setSelectedSort","setTotalPages","searchQuery","setSearchQuery","sortedMovies","useRef","useMemo","sort","b","localeCompare","sortedAndSearchMovies","filter","movie","toLowerCase","includes","then","res","response","data","totalCount","movie_count","Math","ceil","getPageCount","length","medium_cover_image","panda","privateRoutes","path","component","exact","publicRoutes","onSubmit","preventDefault","setItem","AppRouter","route","from","App","getItem","Provider","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.4d62947c.chunk.js","sourcesContent":["import React from \"react\";\r\nimport '../styles/navigation.css'\r\nimport {Link} from \"react-router-dom\";\r\n\r\nconst Navigation = () => {\r\n    return (\r\n        <nav className=\"navigation__list\">\r\n            <Link to=\"/react-learn\" className=\"navigation__link\">Главная</Link>\r\n            <Link to=\"/about\" className=\"navigation__link\">О проекте</Link>\r\n        </nav>\r\n    )\r\n}\r\n\r\nexport default Navigation","import React from \"react\";\r\n\r\nconst Button = ({buttonClass, text, onClick}) => {\r\n    return (\r\n        <button onClick={onClick} className={buttonClass}>{text}</button>\r\n    )\r\n}\r\n\r\nexport  default  Button","import {createContext} from \"react\";\r\n\r\nexport const AuthContext = createContext(null)","import React, {useContext} from \"react\";\r\nimport '../styles/header.css'\r\nimport Navigation from \"./Navigation\";\r\nimport Button from \"./UI/button/Button\";\r\nimport {AuthContext} from \"../context\";\r\n\r\nconst Header = () => {\r\n    const {isAuth, setIsAuth} = useContext(AuthContext)\r\n    const logout = () => {\r\n        setIsAuth(false)\r\n        localStorage.removeItem('auth')\r\n    }\r\n    return (\r\n        <header className=\"header\">\r\n            <div className=\"container\">\r\n                <div className='header__content'>\r\n                    <Navigation/>\r\n                    <Button onClick={logout} buttonClass='header__button' text='Выйти'/>\r\n                </div>\r\n            </div>\r\n        </header>\r\n    )\r\n}\r\n\r\nexport default Header","export default __webpack_public_path__ + \"static/media/gerald.9a634618.jpg\";","import img from \"../assets/images/gerald.jpg\"\r\n\r\nexport function addDefaultSrc(e) {\r\n    e.target.src = img\r\n}","import React, {useEffect} from \"react\";\r\nimport '../styles/detail.css'\r\nimport {addDefaultSrc} from \"../utils/addDefaultSrc\";\r\n\r\nconst Detail = (props) => {\r\n    let nowState = props.location.state\r\n\r\n    useEffect(() => {\r\n        if (nowState === undefined) {\r\n            props.history.push('/');\r\n        }\r\n    })\r\n\r\n   \r\n    if (nowState === undefined) {\r\n        return null\r\n    } else {\r\n        return ( \r\n        <div className=\"container\">\r\n            <div className=\"detail-page\">\r\n                <div className=\"detail-page__img-box\">\r\n                    <img onError={e => addDefaultSrc(e)} src={nowState.poster} alt={nowState.title} title={nowState.title} className=\"detail-page__img\"/>\r\n                </div>\r\n                <div className=\"detail-page__info\">\r\n                    <h3 className=\"detail-page__title\">{nowState.title}</h3>\r\n                    <h5 className=\"detail-page__year\">{nowState.year}</h5>\r\n                    <ul className=\"detail-page__genres\">\r\n                        {nowState.genres.map( (genre, index) => {\r\n                            return <li className=\"detail-page__genre\" key={index}>{genre}</li>\r\n                        })}\r\n                    </ul>\r\n                    <p className=\"detail-page__summary\">{nowState.summary}</p>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n    }\r\n}\r\n\r\nexport default Detail","import React from 'react'\r\n\r\nconst About = (props) => {\r\n    return (\r\n        <div className=\"container\">\r\n            <span className=\"about__text\">Я сделала это приложение потому что я молодечик :3</span>\r\n        </div>\r\n    )\r\n}\r\nexport default About ","export default __webpack_public_path__ + \"static/media/404.ecc6f277.png\";","import React from \"react\";\r\nimport \"../styles/error404.css\"\r\nimport img404 from \"../assets/images/404.png\"\r\n\r\nconst Error404 = () => {\r\n    return <div className='container'>\r\n        <span className=\"error\">Страница не найдена</span>\r\n        <img src={img404} alt=\"404\"/>\r\n    </div>\r\n}\r\n\r\nexport default Error404","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport {Link} from 'react-router-dom';\r\nimport \"../styles/movie.css\"\r\nimport {addDefaultSrc} from \"../utils/addDefaultSrc\";\r\n\r\nconst Movie = ({id, year, title, summary, poster, genres}) => {\r\n\r\n    return (\r\n        <Link to={{\r\n            pathname: `/movie/${id}`,\r\n            state: {\r\n                id,\r\n                year,\r\n                title,\r\n                summary,\r\n                poster,\r\n                genres\r\n            }\r\n        }} key={id} className=\"movie\">\r\n            <img onError={e => addDefaultSrc(e)} src={poster} alt={title} title={title} className=\"movie__img\"/>\r\n            <div className=\"movie__column\">\r\n                <h3 className=\"movie__title\">{title}</h3>\r\n                <h5 className=\"movie__year\">{year}</h5>\r\n                <ul className=\"movie__genres\">\r\n                    {genres.map((genre, index) => {\r\n                        return <li className=\"movie__genre\" key={index}>{genre}</li>\r\n                    })}\r\n                </ul>\r\n                <p className=\"movie__summary\">{summary.slice(0, 140)}...</p>\r\n            </div>\r\n        </Link>\r\n    )\r\n}\r\n\r\nMovie.propTypes = {\r\n    id: PropTypes.number.isRequired,\r\n    year: PropTypes.number.isRequired,\r\n    title: PropTypes.string.isRequired,\r\n    summary: PropTypes.string.isRequired,\r\n    poster: PropTypes.string.isRequired,\r\n    genres: PropTypes.arrayOf(PropTypes.string).isRequired\r\n};\r\n\r\nexport default Movie;","import axios from \"axios\";\r\n\r\nexport const getMovies = async (limit = 10, page = 1) => {\r\n    return await axios.get('https://yts.mx/api/v2/list_movies.json?sort__by=rating', {\r\n        params: {\r\n            limit,\r\n            page\r\n        }\r\n    })\r\n}","import React from \"react\";\r\nimport {getPagesArray} from \"../utils/pages\";\r\nimport \"../styles/pagination.css\"\r\n\r\nconst Pagination = ({totalPages, page, setPage}) => {\r\n    let pagesArray = getPagesArray(totalPages)\r\n    return (\r\n        <div className=\"pagination\">\r\n            {pagesArray.map(p => {\r\n                return(<button onClick={() => setPage(p)} key={p} className={page === p ? 'pagination__button pagination__button--current' :\r\n                                                                                          'pagination__button'}>{p}</button>)\r\n            })}\r\n        </div>\r\n    )\r\n}\r\nexport default  Pagination","export const getPageCount = (totalCount, limit) => {\r\n    return Math.ceil(totalCount / limit)\r\n}\r\n\r\nexport const getPagesArray = (totalPages) => {\r\n    let result = []\r\n    for (let i = 0; i < totalPages; i++) {\r\n        if (i > 9) {\r\n            break\r\n        }\r\n        result.push(i + 1)\r\n    }\r\n    return result\r\n}","import React from \"react\";\r\nimport \"../styles/loader.css\"\r\n\r\nconst Loading = () => {\r\n    return (\r\n        <span className='loader__text'>\r\n            Загрузка\r\n        </span>\r\n    )\r\n}\r\n\r\nexport default Loading","import React from \"react\";\r\nimport './select.css'\r\n\r\nconst Select = ({options, defaultValue, value, onChange}) => {\r\n    return (\r\n        <select\r\n            className='select'\r\n            value={value}\r\n            onChange={event => onChange(event.target.value)}\r\n        >\r\n            <option disabled={true} value=\"defaultValue\">{defaultValue}</option>\r\n            {options.map(option => (\r\n                <option key={option.value} value={option.value}>\r\n                    {option.name}\r\n                </option>\r\n            ))}\r\n        </select>\r\n    )\r\n}\r\n\r\nexport default Select","import React from \"react\";\r\nimport './input.css'\r\n\r\nconst Input = ({value, onChange, inputClass, inputPlaceholder}) => {\r\n    return (\r\n        <input value={value} onChange={onChange} type=\"text\" className={'input ' + inputClass} placeholder={inputPlaceholder}/>\r\n    )\r\n}\r\n\r\nexport default Input","export default __webpack_public_path__ + \"static/media/panda.cd1bcd30.jpg\";","import React, {useEffect, useRef, useState, useMemo} from \"react\";\r\nimport Movie from \"../components/Movie\";\r\nimport {getMovies} from \"../api/getMovies\";\r\nimport {getPageCount, getPagesArray} from \"../utils/pages\"\r\nimport Pagination from \"../components/Pagination\";\r\nimport Loading from \"../components/Loading\";\r\nimport Select from \"../components/UI/select/Select\";\r\nimport Input from \"../components/UI/input/Input\";\r\nimport '../styles/search.css'\r\nimport '../styles/not-found.css'\r\nimport panda from '../assets/images/panda.jpg'\r\n\r\nconst Home = () => {\r\n    const [isLoading, setIsLoading] = useState(true);\r\n    const [movies, setMovies] = useState([]);\r\n    const [selectedSort, setSelectedSort] = useState('')\r\n    const [totalPages, setTotalPages] = useState(0);\r\n    const [limit, setLimit] = useState(15);\r\n    const [page, setPage] = useState(1);\r\n    const [searchQuery, setSearchQuery] = useState('')\r\n    const lastElement = useRef()\r\n\r\n    const sortedMovies = useMemo(() => {\r\n        if (selectedSort) {\r\n            return (\r\n                selectedSort === 'title'\r\n                    ?\r\n                    [...movies].sort((a, b) => a[selectedSort].localeCompare(b[selectedSort]))\r\n                    :\r\n                    [...movies].sort((a, b) => a[selectedSort] - b[selectedSort])\r\n            )\r\n        } else {\r\n            return movies\r\n        }\r\n    }, [selectedSort, movies])\r\n\r\n    const sortedAndSearchMovies = useMemo(() => {\r\n        return sortedMovies.filter(movie => movie.title.toLowerCase().includes(searchQuery))\r\n    }, [searchQuery, sortedMovies])\r\n\r\n    useEffect(() => {\r\n        setIsLoading(true)\r\n        getMovies(limit, page).then(res => {\r\n            let response = res.data.data;\r\n            setMovies(response.movies);\r\n            const totalCount = response.movie_count\r\n            setTotalPages(getPageCount(totalCount, limit))\r\n            setIsLoading(false)\r\n        });\r\n    }, [page])\r\n\r\n    const sortMovies = sort => setSelectedSort(sort)\r\n\r\n    // useObserver(lastElement, page < totalPages, isLoading, () => {\r\n    //     setPage(page + 1)\r\n    // })\r\n    return (\r\n        <>\r\n            <section className='container'>\r\n                <div className='search'>\r\n                    <div className='sort__box'>\r\n                        <Select\r\n                            defaultValue='Сортировка по'\r\n                            options={[\r\n                                {value:'title', name: 'По названию'},\r\n                                {value:'year', name: 'По году выхода'}\r\n                            ]}\r\n                            value={selectedSort}\r\n                            onChange={sortMovies}\r\n                        />\r\n                    </div>\r\n                    <div className='search__box'>\r\n                        <Input value={searchQuery} onChange={e => setSearchQuery(e.target.value)} inputPlaceholder='Поиск' inputClass='search__input'/>\r\n                    </div>\r\n                </div>\r\n                {isLoading &&\r\n                <div className='loader'>\r\n                    <Loading/>\r\n                </div>\r\n                }\r\n                {sortedAndSearchMovies.length || isLoading\r\n                    ?\r\n                    <div className=\"movies\">\r\n                        {sortedAndSearchMovies.map(movie => {\r\n                            return (\r\n                                <Movie key={movie.id}\r\n                                       id={movie.id}\r\n                                       year={movie.year}\r\n                                       title={movie.title}\r\n                                       summary={movie.summary}\r\n                                       poster={movie.medium_cover_image}\r\n                                       genres={movie.genres}\r\n                                />\r\n                            )\r\n                        })}\r\n                        {/*<div ref={lastElement} className='hidden'></div>*/}\r\n                    </div>\r\n                    :\r\n                    <div className='not-found'>\r\n                        <div className='not-found__text'>По этому запросу здесь ничего нет, зато есть панда:</div>\r\n                        <img src={panda} alt=\"panda\" className='not-found__img'/>\r\n                    </div>\r\n                }\r\n                <Pagination totalPages={totalPages} page={page} setPage={setPage}/>\r\n            </section>\r\n        </>\r\n    );\r\n}\r\n\r\nexport default Home;\r\n","import Detail from \"../components/Detail\";\r\nimport About from \"../components/About\";\r\nimport Error404 from \"../components/Error404\";\r\nimport Home from \"../containers/Home\";\r\nimport Login from \"../components/Login\";\r\n\r\nexport const privateRoutes = [\r\n    {path: '/react-learn', component: Home, exact: true},\r\n    {path: '/about', component: About, exact: true},\r\n    {path: '/movie/:id', component: Detail, exact: true},\r\n    {path: '/error404', component: Error404, exact: true},\r\n    {path: '/about', component: About, exact: true},\r\n]\r\nexport const publicRoutes = [\r\n    {path: '/login', component: Login, exact: true}\r\n]","import React, {useContext} from \"react\";\r\nimport Button from \"./UI/button/Button\";\r\nimport \"../styles/login.css\"\r\nimport Input from \"./UI/input/Input\";\r\nimport {AuthContext} from \"../context\";\r\n\r\nconst Login = () => {\r\n    const {isAuth, setIsAuth} = useContext(AuthContext)\r\n    const login = event => {\r\n        event.preventDefault()\r\n        setIsAuth(true)\r\n        localStorage.setItem('auth', 'true')\r\n    }\r\n    return (\r\n        <div className=\"container\">\r\n            <form onSubmit={login} className='login__form'>\r\n                <Input inputClass='login__input' inputPlaceholder='Введите логин'/>\r\n                <Input inputClass='login__input' inputPlaceholder='Введите пароль'/>\r\n                <Button buttonClass='login__button' text='Войти'/>\r\n            </form>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Login","import React, {useContext} from \"react\";\r\nimport {Redirect, Route, Switch} from \"react-router-dom\";\r\nimport {privateRoutes, publicRoutes} from \"../router/routes\";\r\nimport {AuthContext} from \"../context\";\r\nimport Loading from \"./Loading\";\r\n\r\nconst AppRouter = () => {\r\n    const {isAuth, isLoading} = useContext(AuthContext)\r\n    if (isLoading) {\r\n        return <Loading/>\r\n    }\r\n    return (\r\n        isAuth\r\n            ?\r\n            <Switch>\r\n                {privateRoutes.map(route =>\r\n                    <Route path={route.path} exact={route.exact} component={route.component} key={route.path}/>\r\n                )}\r\n                <Redirect from=\"/login\" to=\"/react-learn\" />\r\n                <Redirect to='/error404'/>\r\n            </Switch>\r\n            :\r\n            <Switch>\r\n                {publicRoutes.map(route =>\r\n                    <Route path={route.path} exact={route.exact} component={route.component} key={route.path}/>\r\n                )}\r\n                <Redirect to='/login'/>\r\n            </Switch>\r\n    )\r\n}\r\n\r\nexport default AppRouter","import React, {useEffect, useState} from 'react'\r\nimport {BrowserRouter} from 'react-router-dom'\r\nimport Header from './components/Header'\r\nimport \"./styles/main.css\"\r\nimport AppRouter from \"./components/AppRouter\";\r\nimport {AuthContext} from \"./context\";\r\n\r\nconst App = () => {\r\n    const [isAuth, setIsAuth] = useState(false)\r\n    const [isLoading, setIsLoading] = useState(true)\r\n\r\n    useEffect( () => {\r\n        if (localStorage.getItem('auth')) {\r\n            setIsAuth(true)\r\n        }\r\n        setIsLoading(false)\r\n    })\r\n    return(\r\n        <AuthContext.Provider value={{\r\n            isAuth,\r\n            setIsAuth,\r\n            isLoading\r\n        }}>\r\n            <BrowserRouter>\r\n                <Header/>\r\n                <AppRouter/>\r\n            </BrowserRouter>\r\n        </AuthContext.Provider>\r\n    )\r\n}\r\n\r\nexport default App","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './App';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n"],"sourceRoot":""}